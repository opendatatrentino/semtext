<!DOCTYPE html>
<html>
    <head>
        <title>SemText</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link id="josman-stylesheet" rel="stylesheet" type="text/css" href="../css/josman.css">
        <!-- <link id="bootstrap-stylesheet" rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
        <link id="bootstrap-theme-stylesheet" rel="stylesheet" type="text/css" href="../css/bootstrap-theme.min.css">
        -->
        <link rel="stylesheet" type="text/css" href="website-template/css/josman.css"> 
        <!--
        <link  rel="stylesheet" type="text/css" href="website-template/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="website-template/css/bootstrap-theme.min.css">
        -->
    </head>
    <body>
        <div id="josman-wrapper">
            <div id="josman-header">

                <div style="position:absolute;  min-height:100px; min-width:100%; ">
                    <a id="josman-program-logo-link" href="index.html" style="display:none;">
                        <img id="josman-program-logo" src="../img/josman-logo-200px.png" alt="program logo">    
                    </a>

                    <a id="josman-repo-link" href="../index.html">SemText</a>


                    <a href="http://dati.trentino.it/en/" target="_blank">
                        <img style="float:right; padding:10px; width:80px" src="../img/odt-logo.png" alt="organization logo">                        
                    </a>

                    <div id="josman-nav-header">
                        <a id="josman-home" href="../index.html">Home</a>                        
                        <span id="josman-usage" style="margin-left:15px">Usage:                        
                            
                            
                        <a class="josman-version-tab-header josman-tag-selected" href="../1.0/index.html">1.0</a></span>
                        <span style="margin-left:35px">
                            <a id="josman-project" class="josman-external-link" href="https://github.com/opendatatrentino/semtext" target="_blank">Repo</a>
                            <a id="josman-wiki" class="josman-external-link" href="https://github.com/opendatatrentino/semtext/wiki" target="_blank">Wiki</a> 
                        </span>
                    </div>
                </div>                

            </div>

            <div id="josman-sidebar">
                <div id="josman-internal-sidebar" class="josman-sidebar-block"><ul class="josman-tree"><li><div class="josman-sidebar-page-title josman-sidebar-selected">Usage</div><ul class="josman-tree"><div><a href="#uml-diagram">UML diagram</a></div><div><a href="#meaning-state-machine">Meaning state machine</a></div><div><a href="#maven">Maven</a></div><div><a href="#examples">Examples</a></div></ul></li><li><div class="josman-sidebar-page-title"><a href="CHANGES.html">Release notes</a></div><ul class="josman-tree"></ul></li></ul></div>



                <div id="josman-sidebar-managed-block" class="josman-sidebar-block">

                    <div id="josman-javadoc-link" class="josman-sidebar-page-title"><a class="josman-external-link" href="javadoc/index.html" target="_blank">Javadoc</a></div>
                    <!-- <div><a href="CHANGES.html">Release notes</a></div> -->              
                </div>


            </div>

            <div id="josman-content">
                <div id="josman-internal-content"><h3><a href="#uml-diagram" name="uml-diagram">UML diagram</a></h3><p>A <code>SemText</code> object contains a list of <code>Sentence</code> objects, which in turn can contain a list of <code>Term</code> objects.</p><p>Each <code>Term</code> has a <code>MeaningStatus</code>, and possibly a selected meaning and a list of alternative meanings suggested for disambiguation.</p><p>Both sentences and terms are spans, and actual text is only stored in root <code>SemText</code> object. Span` offsets are always absolute and calculated with respects to it. Spans can't overlap.</p><p>All of semantic text items (sentences, terms, meaning, semtext itself) can hold metadata.</p><p>Utility functions are held in <code>SemTexts</code> class and to iterate through semtext terms a <code>TermsView</code> and a <code>TermIterator</code> are provided.</p>
<p align="center">
<img width="650px" alt="semtext uml diagram" src="img/semtext-uml.png">
</p><h3><a href="#meaning-state-machine" name="meaning-state-machine">Meaning state machine</a></h3><p>SemText data model supports a simple interaction cycle with the user, where some nlp service enriches the text with tags and then a human user validates the tags. There are four possible <code>MeaningStatus</code> associated to a <code>Term</code>:</p>
<p align="center">
<img width="650px" alt="semtext meaning state machine" src="img/semtext-state-machine.png">
</p><h3><a href="#maven" name="maven">Maven</a></h3><p>SemText is available on Maven Central. To use it, put this in the dependencies section of your <em>pom.xml</em>: </p>
<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;eu.trentorise.opendata.semtext&lt;/groupId&gt;
  &lt;artifactId&gt;semtext&lt;/artifactId&gt;
  &lt;version&gt;1.0.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><p>In case updates are available, version numbers follows <a href="http://semver.org/">semantic versioning</a> rules.</p><h3><a href="#examples" name="examples">Examples</a></h3><p>Objects have no public constructor. To make them use factory methods starting with <code>of</code>:</p>
<pre><code>	SemText semText1 = SemText.of(Locale.ITALIAN, "ciao");
</code></pre><p>To obtain a modified version of an object, use <code>with</code> methods:</p>
<pre><code>    SemText semText2 = semText1.with("buongiorno");

    assert semText1.getText().equals("ciao");
    assert semText2.getText().equals("buongiorno");
</code></pre><p>Let's go through the steps to construct a SemText of one sentence and one term with SELECTED meaning.</p><p>We will pick this text:<br><code>
        String text = "Welcome to Garda lake.";
</code></p><p>This builds the<code>Meaning</code>:</p>
<pre><code><br>        Meaning meaning = Meaning.of("http://someknowledgebase.org/entities/garda-lake",
        							 MeaningKind.ENTITY,
                                     0.7);
</code></pre><p>We indicate the span where <em>Garda lake</em> occurs (a <code>Term</code> can span many words):</p>
<pre><code>	Term term = Term.of(11, 21, MeaningStatus.SELECTED, meaning);
</code></pre><p>We finally construct the immutable <code>SemText</code>. Notice language can be set only for the whole <code>SemText</code>:</p>
<pre><code>SemText semText = SemText.of(
                Locale.ENGLISH,
                text,
                Sentence.of(0, 26, term)); // sentence spans the whole text
</code></pre><p>Only <code>SemText</code> actually contains the text. To retrieve it from a span use <code>getText</code>:</p>
<pre><code>	assert "Garda lake".equals(semText.getText(term));
</code></pre><p><code>SemTexts</code> class contains utilities, like converters and checkers:</p>
<pre><code>    ImmutableList&lt;SemText&gt; semtexts = SemTexts.dictToSemTexts(Dict.of(Locale.ITALIAN, "Ciao"));
    try {
        SemTexts.checkScore(1.7, "Invalid score!");
    } catch(IllegalArgumentException ex){

    }
</code></pre><p>Other examples usages can be found <a href="https://github.com/opendatatrentino/semtext/blob/semtext-1.0.0/src/test/java/eu/trentorise/opendata/semtext/test">in the tests</a></p></div>
            </div>

        </div>        
        <script src="../js/jquery-1.11.2.min.js"></script>
        <!-- <script src="../js/bootstrap-3.3.4.min.js"></script> -->

        <!-- quick and silly hack to get the file -->
        <script src="website-template/js/jquery-1.11.2.min.js"></script>
        <!-- quick and silly hack to get the file -->
        <script src="website-template/js/jquery-3.3.4.min.js"></script>
        <script>
            // idotic CSS in style doesn't work, so use jquery instead: 
            // also would like pre code but this will select code and won't work. There aren't selectors for parents

            $("pre").css("max-width", "680px").css("overflow-x", "auto");

            /* We don't support this yet...
             $('.josman-tree-toggle').click(function () {
             $(this).parent().children('ul.tree').toggle(200);
             return false;
             });
             */
        </script>
    </body>
</html>
